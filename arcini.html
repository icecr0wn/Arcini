<!doctype html>
<html>
	<head>
		<link rel='stylesheet' type='text/css' href='./arcini.css' />
		<meta charset='utf-8' />
	</head>

	<body>
		<div ng-app='testapp' ng-controller='testctl'>
			<table>
				<tr>
					<td ng-repeat='character in characters'>
					</td>
					<td>
						<a ng-click='addCharacter()'>Add New</a>
					</td>
				</tr>
				<tr>
					<td ng-repeat='character in characters'>
						<table>
							<tr>
								<td class='remove'><a class='remove' ng-click='deleteCharacter($index)' >X</a></td>
								<td colspan=4><b><input class='span' type='text' ng-model='character.name' /></b></td>
							</tr>
							<tr>
								<td class='title'>Base</td>
								<td class='sub_title' colspan='3'>Attrib</td>
								<td></td>
							</tr>
							<tr>
								<td>Blood</td>
								<td class='button_subtract'>
									<input type='submit' ng-click='character.attributes.base.remove(0)' value='-'>
								</td>
								<td class='input'>{{character.attributes.base.values[0]}}</td>
								<td class='button_add'>
									<input type='submit' ng-click='character.attributes.base.add(0)' value='+'>
								</td>
							<tr>
								<td>Air</td>
								<td class='button_subtract'>
									<input type='submit' ng-click='character.attributes.base.remove(1)' value='-'>
								</td>
								<td class='input'>{{character.attributes.base.values[1]}}</td>
								<td class='button_add'>
									<input type='submit' ng-click='character.attributes.base.add(1)' value='+'>
								</td>
							</tr>
							<tr>
								<td>Earth</td>
								<td class='button_subtract'>
									<input type='submit' ng-click='character.attributes.base.remove(2)' value='-'>
								</td>
								<td class='input'>{{character.attributes.base.values[2]}}</td>
								<td class='button_add'>
									<input type='submit' ng-click='character.attributes.base.add(2)' value='+'>
								</td>
							</tr>
							<tr>
								<td>Fire</td>
								<td class='button_subtract'>
									<input type='submit' ng-click='character.attributes.base.remove(3)' value='-'>
								</td>
								<td class='input'>{{character.attributes.base.values[3]}}</td>
								<td class='button_add'>
									<input type='submit' ng-click='character.attributes.base.add(3)' value='+'>
								</td>
							</tr>
							<tr>
								<td>Water</td>
								<td class='button_subtract'>
									<input type='submit' ng-click='character.attributes.base.remove(4)' value='-'>
								</td>
								<td class='input'>{{character.attributes.base.values[4]}}</td>
								<td class='button_add'>
									<input type='submit' ng-click='character.attributes.base.add(4)' value='+'>
								</td>
							</tr>
							<tr>
								<td>Total</td>
								<td></td>
								<td class='input'>{{character.attributes.base.total()}}</td>
								<td></td>
							</tr>
							<tr>
								<td><br></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td class='title'>Damage</td>
								<td class='button_subtract'>
									<input type='submit' ng-click='character.health.heal()' value='-'>
								</td>
								<td class='input'>{{character.health.damage}}</td>
								<td class='button_add'>
									<input type='submit' ng-click='character.health.dealDamage()' value='+'>
								</td>
							</tr>
							<tr>
								<td><br></td>
							</tr>
							<tr>
								<td class='title'>Deity</td>
								<td colspan='2'>
									<select ng-model='data.selectedDeity' ng-options="deity as deity.name for deity in deities" ng-init='data.selectedDeity = deities[character.deity.index()]' ng-change="character.deity.set(selectedDeity)">
										{{data.selectedDeity}}
									</select>
								</td>
							</tr>
						</table>
						<br/>
						<table>
							<tr>
								<td class='title'>Health</td>
								<td class='value'>{{character.health.current()}}</td>
								<td class='value'>{{character.health.max()}}</td>
							</tr>
							<tr>
								<td class='title'>Speed</td>
								<td></td>
								<td class='value'>{{character.speed()}}</td>
							</tr>
							<tr>
								<td></td>
								<td class='sub_title'>Attrib</td>
								<td class='sub_title'>Resist</td>
							</tr>
							<tr>
								<td class='sub'>Blood</td>
								<td class='value'>{{character.attributes.blood()}}</td>
								<td class='value'>{{character.resistances.physical()}}</td>
								<td class='button_subtract'>
									<input type='submit' ng-click='character.attributes.spent.remove(0)' value='-'>
									</td>
								<td class='input'>{{character.attributes.spent.values[0]}}</td>
								<td class='button_add'>
									<input type='submit' ng-click='character.attributes.spent.add(0)' value='+'>
								</td>
							</tr>
							</tr>
							<tr>
								<td class='sub'>Air</td>
								<td class='value'>{{character.attributes.air()}}</td>
								<td class='value'>{{character.resistances.air()}}</td>
								<td class='button_subtract'>
									<input type='submit' ng-click='character.attributes.spent.remove(1)' value='-'>
								</td>
								<td class='input'>{{character.attributes.spent.values[1]}}</td>
								<td class='button_add'>
									<input type='submit' ng-click='character.attributes.spent.add(1)' value='+'>
								</td>
							</tr>
							<tr>
								<td class='sub'>Earth</td>
								<td class='value'>{{character.attributes.earth()}}</td>
								<td class='value'>{{character.resistances.earth()}}</td>
								<td class='button_subtract'>
									<input type='submit' ng-click='character.attributes.spent.remove(2)' value='-'>
								</td>
								<td class='input'>{{character.attributes.spent.values[3]}}</td>
								<td class='button_add'>
									<input type='submit' ng-click='character.attributes.spent.add(2)' value='+'>
								</td>

							</tr>
							<tr>
								<td class='sub'>Fire</td>
								<td class='value'>{{character.attributes.fire()}}</td>
								<td class='value'>{{character.resistances.fire()}}</td>
								<td class='button_subtract'>
									<input type='submit' ng-click='character.attributes.spent.remove(3)' value='-'>
								</td>
								<td class='input'>{{character.attributes.spent.values[3]}}</td>
								<td class='button_add'>
									<input type='submit' ng-click='character.attributes.spent.add(3)' value='+'>
								</td>

							</tr>
							<tr>
								<td class='sub'>Water</td>
								<td class='value'>{{character.attributes.water()}}</td>
								<td class='value'>{{character.resistances.water()}}</td>
								<td class='button_subtract'>
									<input type='submit' ng-click='character.attributes.spent.remove(4)' value='-'>
								</td>
								<td class='input'>{{character.attributes.spent.values[3]}}</td>
								<td class='button_add'>
									<input type='submit' ng-click='character.attributes.spent.add(4)' value='+'>
								</td>

							</tr>
							<tr>
								<td></td>
								<td class='sub_title'>Offence</td>
								<td class='sub_title'>Defence</td>
							</tr>
							<tr>
								<td class='sub'>Physical</td>
								<td class='value'>{{character.offence.physical()}}</td>
								<td class='value'>{{character.defence.physical()}}</td>
							</tr>
							<tr>
								<td class='sub'>Elemental</td>
								<td class='value'>{{character.offence.elemental()}}</td>
								<td class='value'>{{character.defence.elemental()}}</td>
							</tr>
							<tr>
								<td></td>
								<td class='sub_title'>Damage</td>
								<td class='sub_title'>Health</td>
							</tr>
							<tr>
								<td class='sub'>Extra</td>
								<td class='value'>{{character.extra.damage()}}</td>
								<td class='value'>{{character.extra.health()}}</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</div>
		<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.8/angular.js'>
		</script>
		<script src='./arcini.js'>
		</script>
		<script src='./test.js'>
		</script>
	</body>
</html>

